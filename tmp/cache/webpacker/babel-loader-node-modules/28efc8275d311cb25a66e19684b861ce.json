{"ast":null,"code":"var OfficeHour = {\n  initialize: function initialize() {\n    $(document).on('turbolinks:load', function () {\n      $('body').on('click', '.oh-action', function (e) {\n        OfficeHour.showCardAction(e, this);\n      });\n    }).on('turbolinks:before-cache', function () {});\n  },\n  showCardAction: function showCardAction(e, that) {\n    e.preventDefault();\n    var isOwner = $(that).attr('x-is-owner');\n\n    if (isOwner == 'true') {\n      window.location = '/office_hours/new';\n    } else {\n      OfficeHour.showVolunteerCard(that);\n    }\n\n    return false;\n  },\n  showVolunteerCard: function showVolunteerCard(that) {\n    var OHId = $(that).attr('x-id');\n    var OHOwner = $(that).attr('x-oh-owner');\n    var OHInactive = $(that).attr('x-oh-inactive');\n    var when = $(that).attr('x-when');\n    var canApply = $(that).attr('x-can-apply');\n\n    if (OHInactive == 'true') {\n      return;\n    }\n\n    if (canApply == 'true') {\n      var headerHTML = I18n.t('when_office_hour', {\n        when: when\n      });\n      var bodyHTML = I18n.t('there_is_a_slot_available_apply_below', {\n        when: when,\n        OHOwner: OHOwner\n      });\n\n      var callback = function callback() {\n        $.ajax({\n          url: \"/office_hours/\".concat(OHId, \"/apply\"),\n          type: 'POST'\n        });\n      };\n\n      Covid.showModal(headerHTML, bodyHTML, [{\n        type: 'cancel'\n      }, {\n        type: 'submit',\n        text: 'Apply',\n        callback: callback\n      }], 'warning');\n    } else {\n      var _headerHTML = I18n.t('when_office_hour', {\n        when: when\n      });\n\n      var _bodyHTML = I18n.t('there_is_a_slot_available_update_profile', {\n        when: when\n      });\n\n      Covid.showModal(_headerHTML, _bodyHTML, [{\n        type: 'cancel',\n        text: 'Close'\n      }], 'warning');\n    }\n  }\n};\nexport default OfficeHour;","map":{"version":3,"sources":["/Users/a_norton/Documents/Community_Connections/covid-volunteers/app/frontend/covid/office_hour.js"],"names":["OfficeHour","initialize","$","document","on","e","showCardAction","that","preventDefault","isOwner","attr","window","location","showVolunteerCard","OHId","OHOwner","OHInactive","when","canApply","headerHTML","I18n","t","bodyHTML","callback","ajax","url","type","Covid","showModal","text"],"mappings":"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","sourcesContent":["\nconst OfficeHour = {\n  initialize() {\n    $(document).on('turbolinks:load', () => {\n      $('body').on('click', '.oh-action', function (e) {\n        OfficeHour.showCardAction(e, this);\n      });\n    }).on('turbolinks:before-cache', function () {\n    });\n  },\n\n  showCardAction(e, that) {\n    e.preventDefault();\n\n    const isOwner = $(that).attr('x-is-owner');\n\n    if (isOwner == 'true') {\n      window.location = '/office_hours/new';\n    } else {\n      OfficeHour.showVolunteerCard(that);\n    }\n\n    return false;\n  },\n\n  showVolunteerCard(that) {\n    const OHId = $(that).attr('x-id');\n    const OHOwner = $(that).attr('x-oh-owner');\n    const OHInactive = $(that).attr('x-oh-inactive');\n    const when = $(that).attr('x-when');\n    const canApply = $(that).attr('x-can-apply');\n\n    if (OHInactive == 'true') {\n      return;\n    }\n\n    if (canApply == 'true') {\n      const headerHTML = I18n.t('when_office_hour', { when });\n      const bodyHTML = I18n.t('there_is_a_slot_available_apply_below', { when, OHOwner });\n\n      const callback = () => {\n        $.ajax({\n          url: `/office_hours/${OHId}/apply`,\n          type: 'POST',\n        });\n      }\n\n      Covid.showModal(headerHTML, bodyHTML, [ { type: 'cancel' }, { type: 'submit', text: 'Apply', callback } ], 'warning');\n    } else {\n      const headerHTML = I18n.t('when_office_hour', { when });\n      const bodyHTML = I18n.t('there_is_a_slot_available_update_profile', { when });\n\n      Covid.showModal(headerHTML, bodyHTML, [ { type: 'cancel', text: 'Close' } ], 'warning');\n    }\n  }\n\n}\n\nexport default OfficeHour;\n"]},"metadata":{},"sourceType":"module"}