{"ast":null,"code":"var Project = {\n  initialize: function initialize() {\n    $(document).on('turbolinks:load', function () {\n      $('.not-accepting-volunteers').click(function (ev) {\n        Project.notAcceptingVolunteers(this, ev);\n      });\n      $('.volunteer-with-skills').click(function (ev) {\n        Project.volunteerWithSkills(this, ev);\n      });\n      $('.volunteer-without-skills').click(function (ev) {\n        Project.volunteerWithoutSkills(this, ev);\n      });\n    });\n  },\n  notAcceptingVolunteers: function notAcceptingVolunteers(that, ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    var targetHref = $(that).attr('href');\n    var headerHTML = I18n.t('this_project_is_not_accepting_volunteers');\n    var bodyHTML = I18n.t('we_re_sorry_this_project_has_indicated_no_volunteers');\n    Covid.showModal(headerHTML, bodyHTML, [{\n      type: 'cancel',\n      text: 'OK'\n    }], 'warning');\n    return false;\n  },\n  volunteerWithSkills: function volunteerWithSkills(that, ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    var targetHref = $(that).attr('href');\n    var skillsRequired = $(that).attr('x-skills-required').split(', ');\n    var projectName = $(that).attr('x-project-name');\n    var orgStatus = $(that).attr('x-org-status');\n    var forProfitAlert = '';\n\n    if (orgStatus == \"For-profit\") {\n      forProfitAlert = \"\\n      <div class=\\\"mt-3 text-xs\\\">\\n        The U.S. Department of Labor has indicated that volunteers should not provide services equivalent to that of an employee for <span class='text-orange-400'>for-profit</span> private sector employers.<br/><br/>\\n        Discuss with the project team before proceeding in volunteering.\\n      </div>\\n      \";\n    }\n\n    var headerHTML = I18n.t('you_re_about_to_volunteer');\n    var bodyHTML = \"\\n      \".concat(I18n.t('project_is_looking_for', {\n      project_name: projectName\n    }), \"\\n      <br>\\n      \").concat(Covid.skillBadges(skillsRequired, 'primary'), \"\\n      <br>\\n      \").concat(I18n.t('are_you_sure_the_project_owner_will_be_alerted'), \"<br><br>\\n      \").concat(I18n.t('optionally_you_can_also_send_them_a_note'), \"\\n      <br>\\n      <div class=\\\"mt-3\\\">\\n        <label for=\\\"volunteer_note\\\" class=\\\"sr-only\\\">\").concat(I18n.t('volunteer_note'), \"</label>\\n        <div class=\\\"relative rounded-md shadow-sm\\\">\\n          <input id=\\\"volunteer_note\\\" class=\\\"form-input block w-full sm:text-sm sm:leading-5\\\" placeholder=\\\"\").concat(I18n.t('in_one_sentence_why_are_you_interested'), \"\\\" />\\n        </div>\\n      </div>\\n\\n      \").concat(forProfitAlert, \"\\n      \");\n\n    var callback = function callback() {\n      var volunteerNote = $(\"#volunteer_note\").val();\n      $.post(targetHref, {\n        volunteer_note: volunteerNote\n      });\n    };\n\n    Covid.showModal(headerHTML, bodyHTML, [{\n      type: 'cancel'\n    }, {\n      type: 'submit',\n      text: I18n.t('volunteer'),\n      callback: callback\n    }], 'warning');\n    return false;\n  },\n  volunteerWithoutSkills: function volunteerWithoutSkills(that, ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    var targetHref = $(that).attr('href');\n    var skillsRequired = $(that).attr('x-skills-required');\n    var headerHTML = I18n.t('you_re_missing_skills');\n    var bodyHTML = I18n.t('skills_needed_do_not_match', {\n      skills_required: skillsRequired\n    });\n\n    var callback = function callback() {\n      return window.location.href = targetHref;\n    };\n\n    Covid.showModal(headerHTML, bodyHTML, [{\n      type: 'cancel'\n    }, {\n      type: 'submit',\n      text: I18n.t('edit_profile'),\n      callback: callback\n    }], 'warning');\n    return false;\n  }\n};\nexport default Project;","map":{"version":3,"sources":["/Users/a_norton/Documents/Community_Connections/covid-volunteers/app/frontend/covid/project.js"],"names":["Project","initialize","$","document","on","click","ev","notAcceptingVolunteers","volunteerWithSkills","volunteerWithoutSkills","that","preventDefault","stopPropagation","targetHref","attr","headerHTML","I18n","t","bodyHTML","Covid","showModal","type","text","skillsRequired","split","projectName","orgStatus","forProfitAlert","project_name","skillBadges","callback","volunteerNote","val","post","volunteer_note","skills_required","window","location","href"],"mappings":"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","sourcesContent":["const Project = {\n  initialize() {\n    $(document).on('turbolinks:load', () => {\n      $('.not-accepting-volunteers').click(function (ev) {\n        Project.notAcceptingVolunteers(this, ev);\n      });\n\n      $('.volunteer-with-skills').click(function (ev) {\n        Project.volunteerWithSkills(this, ev);\n      });\n\n      $('.volunteer-without-skills').click(function (ev) {\n        Project.volunteerWithoutSkills(this, ev);\n      });\n    });\n  },\n\n  notAcceptingVolunteers(that, ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n\n    const targetHref = $(that).attr('href');\n\n    const headerHTML = I18n.t('this_project_is_not_accepting_volunteers');\n    const bodyHTML = I18n.t('we_re_sorry_this_project_has_indicated_no_volunteers');\n\n    Covid.showModal(headerHTML, bodyHTML, [{ type: 'cancel', text: 'OK' }], 'warning');\n\n    return false;\n  },\n\n  volunteerWithSkills(that, ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n\n    const targetHref = $(that).attr('href');\n    const skillsRequired = $(that).attr('x-skills-required').split(', ');\n    const projectName = $(that).attr('x-project-name');\n    const orgStatus = $(that).attr('x-org-status');\n\n    let forProfitAlert = '';\n    if (orgStatus == \"For-profit\") {\n      forProfitAlert = `\n      <div class=\"mt-3 text-xs\">\n        The U.S. Department of Labor has indicated that volunteers should not provide services equivalent to that of an employee for <span class='text-orange-400'>for-profit</span> private sector employers.<br/><br/>\n        Discuss with the project team before proceeding in volunteering.\n      </div>\n      `\n    }\n\n    const headerHTML = I18n.t('you_re_about_to_volunteer');\n    const bodyHTML = `\n      ${I18n.t('project_is_looking_for', { project_name: projectName })}\n      <br>\n      ${Covid.skillBadges(skillsRequired, 'primary')}\n      <br>\n      ${I18n.t('are_you_sure_the_project_owner_will_be_alerted')}<br><br>\n      ${I18n.t('optionally_you_can_also_send_them_a_note')}\n      <br>\n      <div class=\"mt-3\">\n        <label for=\"volunteer_note\" class=\"sr-only\">${I18n.t('volunteer_note')}</label>\n        <div class=\"relative rounded-md shadow-sm\">\n          <input id=\"volunteer_note\" class=\"form-input block w-full sm:text-sm sm:leading-5\" placeholder=\"${I18n.t('in_one_sentence_why_are_you_interested')}\" />\n        </div>\n      </div>\n\n      ${forProfitAlert}\n      `;\n\n    const callback = () => {\n      const volunteerNote = $(\"#volunteer_note\").val();\n      $.post(targetHref, { volunteer_note: volunteerNote });\n    }\n\n    Covid.showModal(headerHTML, bodyHTML, [{ type: 'cancel' }, { type: 'submit', text: I18n.t('volunteer'), callback }], 'warning');\n\n    return false;\n  },\n\n  volunteerWithoutSkills(that, ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n\n    const targetHref = $(that).attr('href');\n    const skillsRequired = $(that).attr('x-skills-required');\n\n    const headerHTML = I18n.t('you_re_missing_skills');\n    const bodyHTML = I18n.t('skills_needed_do_not_match', { skills_required: skillsRequired });\n\n    const callback = () => window.location.href = targetHref;\n    Covid.showModal(headerHTML, bodyHTML, [{ type: 'cancel' }, { type: 'submit', text: I18n.t('edit_profile'), callback }], 'warning');\n\n    return false;\n  }\n}\n\nexport default Project;\n"]},"metadata":{},"sourceType":"module"}