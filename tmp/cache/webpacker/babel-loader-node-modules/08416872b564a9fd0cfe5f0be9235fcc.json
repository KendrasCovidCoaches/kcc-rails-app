{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar VolunteerGroups = {\n  initialize: function initialize() {\n    $(document).on('turbolinks:load', function () {\n      $('#add_volunteers_to_group_button').click(function () {\n        VolunteerGroups.addVolunteerToGroup(this);\n      });\n      $('#volunteers_group_intro_email_button').click(function () {\n        VolunteerGroups.prepareIntroEmail(this);\n      });\n      $('#volunteer_list').on('click', '.volunteer-in-group', function () {\n        VolunteerGroups.toggleKeepInGroup(this);\n      });\n    });\n  },\n  addVolunteerToGroup: function addVolunteerToGroup(that) {\n    var projectId = $('#project_id').val();\n    var currentAcceptedUserIds = $('#accepted_user_ids').val().split(',').filter(function (el) {\n      return el;\n    });\n    console.log($('#accepted_user_ids').val());\n    $('.volunteer-in-group').each(function (_, el) {\n      var userId = $(el).find('.volunteer-group-user-id').val();\n\n      if (currentAcceptedUserIds.indexOf(userId) == -1) {\n        $(el).remove();\n      }\n    });\n    var filter = $('#filter_volunteers').val();\n    $.post(\"/admin/volunteer_groups/generate_volunteers?project_id=\".concat(projectId), {\n      user_ids: currentAcceptedUserIds,\n      filter: filter\n    }, function (data) {\n      var users = data.users;\n      var html = '';\n\n      if (data.users.length == 0) {\n        alert(\"Sorry, couldn't find any matching volunteers.\");\n        return;\n      }\n\n      var _iterator = _createForOfIteratorHelper(users),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var user = _step.value;\n          var userRow = \"\\n<li class=\\\"border-t border-gray-200 volunteer-in-group\\\">\\n  <input type=\\\"hidden\\\" value=\\\"\".concat(user.id, \"\\\" name=\\\"volunteer_group[user_ids][]\\\" class=\\\"volunteer-group-user-id\\\" />\\n  <div class=\\\"block focus:outline-none transition duration-150 ease-in-out\\\">\\n    <div class=\\\"px-4 py-4 sm:px-6\\\">\\n      <div class=\\\"flex items-center justify-between\\\">\\n        <div class=\\\"text-sm leading-5 font-medium text-primary-600 truncate\\\">\\n          <span class=\\\"volunteer-name\\\">\").concat(user.name, \"</span> / <span class=\\\"volunteer-email\\\">\").concat(user.email, \"</span>\\n        </div>\\n        <div class=\\\"text-sm leading-5 truncate\\\">\\n          <a href=\\\"javascript:void(0)\\\">\\n            <span class=\\\"inline-flex rounded-md shadow-sm\\\">\\n              <button type=\\\"button\\\" class=\\\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150\\\">\\n                <svg class=\\\"-ml-1 mr-2 h-4 w-4 text-gray-700\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 20 20\\\">\\n                  <path fill-rule=\\\"evenodd\\\" d=\\\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\\\" clip-rule=\\\"evenodd\\\"/>\\n                </svg>\\n                <span>\\n                  keep\\n                </span>\\n              </button>\\n            </span>\\n          </a>\\n        </div>\\n      </div>\\n      <div class=\\\"mt-3 sm:flex sm:justify-between\\\">\\n        <div class=\\\"text-sm leading-5 text-gray-500\\\">\\n          \").concat(user.about, \"\\n        </div>\\n      </div>\\n      <div class=\\\"mt-2 sm:flex sm:justify-between\\\">\\n        <div class=\\\"text-sm leading-5 text-gray-500\\\">\\n          location: \").concat(user.location, \" / skills: \").concat(user.skill_list ? user.skill_list.join(', ') : '', \"\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</li>\");\n          html += userRow;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      $('#no_volunteer_list').hide();\n      $('#volunteer_list').append(html);\n    });\n  },\n  toggleKeepInGroup: function toggleKeepInGroup(that) {\n    var acceptedUserId = $(that).find('.volunteer-group-user-id').val();\n    var acceptedUserIds = $('#accepted_user_ids').val().split(',');\n\n    if (acceptedUserIds.indexOf(acceptedUserId) > -1) {\n      $(that).removeClass('border-orange-300 bg-orange-100');\n      acceptedUserIds = acceptedUserIds.filter(function (val) {\n        return val != acceptedUserId;\n      });\n    } else {\n      $(that).addClass('border-orange-300 bg-orange-100');\n      acceptedUserIds.push(acceptedUserId);\n    }\n\n    $('#accepted_user_ids').val(acceptedUserIds.join(','));\n  },\n  prepareIntroEmail: function prepareIntroEmail(that) {\n    var currentAcceptedUserIds = $('#accepted_user_ids').val().split(',').filter(function (el) {\n      return el;\n    });\n    var projectId = $('#project_id').val();\n    var projectOwnerEmail = $('#project_owner_email').val();\n    var projectName = encodeURIComponent($('#project_name').val());\n    var volunteers = [];\n    var volunteerEmails = [];\n    $('.volunteer-in-group').each(function (_, el) {\n      var userId = $(el).find('.volunteer-group-user-id').val();\n      var email = $(el).find('.volunteer-email').text();\n      var name = $(el).find('.volunteer-name').text();\n\n      if (currentAcceptedUserIds.indexOf(userId) > -1) {\n        volunteers.push({\n          email: email,\n          name: name\n        });\n        volunteerEmails.push(email);\n      }\n    });\n    var subject = \"[Help With Covid] Greetings - Project/Volunteers Introduction\";\n    var volunteersBody = [];\n\n    for (var _i = 0, _volunteers = volunteers; _i < _volunteers.length; _i++) {\n      var volunteer = _volunteers[_i];\n      volunteersBody.push(\"\".concat(volunteer.name, \" / \").concat(volunteer.email));\n    }\n\n    var body = \"Hi there!\\n\\nHope you are all doing well! Thank you for all that you are doing to work on a solution for our world and being part of helpwithcovid.com.\\n\\nThis project needs your help: \".concat(projectName, \" (http://resitown.com/projects/\").concat(projectId, \") by project owner - \").concat(projectOwnerEmail, \". I thought you might be able to help. I have included the project owner to this email should you have any questions.\\n\\nIf you are already on an existing project, please login to helpwithcovid.com and remove the setting \\\"pair me with a project\\\" from your profile page (https://helpwithcovid.com/users/edit).\\n\\nIf you feel that you are not the right fit after speaking with the project owner, please go to the project link (http://helpwithcovid.com/projects/\").concat(projectId, \") and \\u201Ccancel volunteer offer\\u201D. We will work on matching you to another project.\\n\\nPlease let me know if you have any questions or concerns.\\n\\nThank you!\\nHWC Core team\");\n    var mailHref = \"mailto:\".concat(projectOwnerEmail, \"?reply-to=\").concat(projectOwnerEmail, \"&bcc=\").concat(volunteerEmails.join(',').replace(/\\+/g, '%2B'), \"&subject=\").concat(subject, \"&body=\").concat(body.replace(/\\n/g, '%0D%0A').replace(/\\+/g, '%2B'));\n    window.open(mailHref, '_blank');\n  }\n};\nexport default VolunteerGroups;","map":{"version":3,"sources":["/Users/a_norton/Documents/Community_Connections/covid-volunteers/app/frontend/covid/volunteer_groups.js"],"names":["VolunteerGroups","initialize","$","document","on","click","addVolunteerToGroup","prepareIntroEmail","toggleKeepInGroup","that","projectId","val","currentAcceptedUserIds","split","filter","el","console","log","each","_","userId","find","indexOf","remove","post","user_ids","data","users","html","length","alert","user","userRow","id","name","email","about","location","skill_list","join","hide","append","acceptedUserId","acceptedUserIds","removeClass","addClass","push","projectOwnerEmail","projectName","encodeURIComponent","volunteers","volunteerEmails","text","subject","volunteersBody","volunteer","body","mailHref","replace","window","open"],"mappings":"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","sourcesContent":["const VolunteerGroups = {\n  initialize() {\n    $(document).on('turbolinks:load', () => {\n      $('#add_volunteers_to_group_button').click(function () {\n        VolunteerGroups.addVolunteerToGroup(this);\n      })\n\n      $('#volunteers_group_intro_email_button').click(function () {\n        VolunteerGroups.prepareIntroEmail(this);\n      })\n\n      $('#volunteer_list').on('click', '.volunteer-in-group', function () {\n        VolunteerGroups.toggleKeepInGroup(this);\n      })\n    });\n  },\n\n  addVolunteerToGroup(that) {\n    const projectId = $('#project_id').val();\n    const currentAcceptedUserIds = $('#accepted_user_ids').val().split(',').filter(el => el);\n    console.log($('#accepted_user_ids').val())\n\n    $('.volunteer-in-group').each((_, el) => {\n      const userId = $(el).find('.volunteer-group-user-id').val();\n\n      if (currentAcceptedUserIds.indexOf(userId) == -1) {\n        $(el).remove();\n      }\n    });\n\n    const filter = $('#filter_volunteers').val();\n\n    $.post(`/admin/volunteer_groups/generate_volunteers?project_id=${projectId}`, { user_ids: currentAcceptedUserIds, filter }, (data) => {\n      const users = data.users;\n      let html = '';\n\n      if (data.users.length == 0) {\n        alert(\"Sorry, couldn't find any matching volunteers.\");\n        return;\n      }\n\n      for (const user of users) {\n        const userRow = `\n<li class=\"border-t border-gray-200 volunteer-in-group\">\n  <input type=\"hidden\" value=\"${user.id}\" name=\"volunteer_group[user_ids][]\" class=\"volunteer-group-user-id\" />\n  <div class=\"block focus:outline-none transition duration-150 ease-in-out\">\n    <div class=\"px-4 py-4 sm:px-6\">\n      <div class=\"flex items-center justify-between\">\n        <div class=\"text-sm leading-5 font-medium text-primary-600 truncate\">\n          <span class=\"volunteer-name\">${user.name}</span> / <span class=\"volunteer-email\">${user.email}</span>\n        </div>\n        <div class=\"text-sm leading-5 truncate\">\n          <a href=\"javascript:void(0)\">\n            <span class=\"inline-flex rounded-md shadow-sm\">\n              <button type=\"button\" class=\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150\">\n                <svg class=\"-ml-1 mr-2 h-4 w-4 text-gray-700\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\"/>\n                </svg>\n                <span>\n                  keep\n                </span>\n              </button>\n            </span>\n          </a>\n        </div>\n      </div>\n      <div class=\"mt-3 sm:flex sm:justify-between\">\n        <div class=\"text-sm leading-5 text-gray-500\">\n          ${user.about}\n        </div>\n      </div>\n      <div class=\"mt-2 sm:flex sm:justify-between\">\n        <div class=\"text-sm leading-5 text-gray-500\">\n          location: ${user.location} / skills: ${user.skill_list ? user.skill_list.join(', ') : ''}\n        </div>\n      </div>\n    </div>\n  </div>\n</li>`;\n        html += userRow;\n      }\n\n      $('#no_volunteer_list').hide();\n      $('#volunteer_list').append(html);\n    });\n  },\n\n  toggleKeepInGroup(that) {\n    const acceptedUserId = $(that).find('.volunteer-group-user-id').val();\n    let acceptedUserIds = $('#accepted_user_ids').val().split(',');\n\n    if (acceptedUserIds.indexOf(acceptedUserId) > -1) {\n      $(that).removeClass('border-orange-300 bg-orange-100');\n      acceptedUserIds = acceptedUserIds.filter(val => val != acceptedUserId);\n    } else {\n      $(that).addClass('border-orange-300 bg-orange-100');\n      acceptedUserIds.push(acceptedUserId);\n    }\n\n    $('#accepted_user_ids').val(acceptedUserIds.join(','));\n  },\n\n  prepareIntroEmail(that) {\n    const currentAcceptedUserIds = $('#accepted_user_ids').val().split(',').filter(el => el);\n    const projectId = $('#project_id').val();\n    const projectOwnerEmail = $('#project_owner_email').val();\n    const projectName = encodeURIComponent($('#project_name').val());\n    const volunteers = [];\n    const volunteerEmails = [];\n\n    $('.volunteer-in-group').each((_, el) => {\n      const userId = $(el).find('.volunteer-group-user-id').val();\n      const email = $(el).find('.volunteer-email').text();\n      const name = $(el).find('.volunteer-name').text();\n\n      if (currentAcceptedUserIds.indexOf(userId) > -1) {\n        volunteers.push({ email, name });\n        volunteerEmails.push(email);\n      }\n    });\n\n    const subject = `[Help With Covid] Greetings - Project/Volunteers Introduction`;\n\n    let volunteersBody = [];\n    for (const volunteer of volunteers) {\n      volunteersBody.push(`${volunteer.name} / ${volunteer.email}`);\n    }\n\n    let body = `Hi there!\n\nHope you are all doing well! Thank you for all that you are doing to work on a solution for our world and being part of helpwithcovid.com.\n\nThis project needs your help: ${projectName} (http://resitown.com/projects/${projectId}) by project owner - ${projectOwnerEmail}. I thought you might be able to help. I have included the project owner to this email should you have any questions.\n\nIf you are already on an existing project, please login to helpwithcovid.com and remove the setting \"pair me with a project\" from your profile page (https://helpwithcovid.com/users/edit).\n\nIf you feel that you are not the right fit after speaking with the project owner, please go to the project link (http://helpwithcovid.com/projects/${projectId}) and “cancel volunteer offer”. We will work on matching you to another project.\n\nPlease let me know if you have any questions or concerns.\n\nThank you!\nHWC Core team`;\n\n    const mailHref = `mailto:${projectOwnerEmail}?reply-to=${projectOwnerEmail}&bcc=${volunteerEmails.join(',').replace(/\\+/g, '%2B')}&subject=${subject}&body=${body.replace(/\\n/g, '%0D%0A').replace(/\\+/g, '%2B')}`;\n    window.open(mailHref, '_blank');\n  },\n};\n\nexport default VolunteerGroups\n"]},"metadata":{},"sourceType":"module"}